<script src="https://code.highcharts.com/highcharts.js"></script>
<script src="https://code.highcharts.com/modules/sankey.js"></script>
<script src="https://code.highcharts.com/modules/non-cartesian-zoom.js"></script>
<script src="https://code.highcharts.com/modules/mouse-wheel-zoom.js"></script>
<script src="https://code.highcharts.com/modules/exporting.js"></script>
<script src="https://code.highcharts.com/modules/export-data.js"></script>
<script src="https://code.highcharts.com/modules/accessibility.js"></script>
<style>
    #csv {
    display: none;
}

.highcharts-figure,
.highcharts-data-table table {
    min-width: 500px;
    max-width: 80%;
    margin: 1em auto;
}

.highcharts-data-table table {
    font-family: Verdana, sans-serif;
    border-collapse: collapse;
    border: 1px solid #ebebeb;
    margin: 10px auto;
    text-align: center;
    width: 100%;
    max-width: 500px;
}

.highcharts-data-table caption {
    padding: 1em 0;
    font-size: 1.2em;
    color: #555;
}

.highcharts-data-table th {
    font-weight: 600;
    padding: 0.5em;
}

.highcharts-data-table td,
.highcharts-data-table th,
.highcharts-data-table caption {
    padding: 0.5em;
}

.highcharts-data-table thead tr,
.highcharts-data-table tbody tr:nth-child(even) {
    background: #f8f8f8;
}

.highcharts-data-table tr:hover {
    background: #f1f7ff;
}

.highcharts-description {
    margin: 0.3rem 10px;
}

</style>
<figure class="highcharts-figure">
    <div id="container" style="height: 99%;"></div>
</figure>



<script>
    Highcharts.chart('container', {
    chart: {
        zooming: {
            type: 'xy'
        },
        panning: {
            enabled: true,
            type: 'xy'
        },
        panKey: 'shift'
    },
    title: {
        text: 'Mapping KGs Quality Framework to FAIR principles',
        style: {
            fontSize: '25px',
        }
    },
    accessibility: {
        point: {
            valueDescriptionFormat: '{index}. {point.from} to {point.to}, {point.weight}.'
        }
    },
    tooltip: {
        headerFormat: null,
        pointFormat: '{point.fromNode.name} â†’ {point.toNode.name}: {point.weight:.2f} quads',
        nodeFormat: '{point.name}: {point.sum:.2f}'
    },
exporting: {
    enabled: true,
    sourceWidth: 1300, // match your chart container width
    sourceHeight: 900, // match your chart container height
    scale: 2,           // higher scale = higher resolution
    fallbackToExportServer: false // use client-side export
},
    plotOptions: {
        sankey: {
            dataLabels: {
                enabled: true,
                style: {
                    fontSize: '18px',
                    fontWeight: 'bold',
                }
            }
        }
    },
    series: [{
        keys: ['from', 'to', 'weight'],
        type: 'sankey',
        name: 'Sankey demo series',
nodes: [
    { id: "KGs Quality Framework", color: '#20b2aa'},
    { id: "Availability", color: '#ff6f61'},
    { id: "URIs dereferenceability", color: '#ff6f61'},
    { id: "Accessibility", color: '#cd853f' },
    { id: "Findability", color: '#9467bd' },
    { id: "FAIR principles", color: '#4682b4'},
    { id: "F1",  color: '#9467bd' },
    { id: "A1.1",  color: '#cd853f' },
    { id: "Working access point(s)",  color: '#ff6f61' },
    { id: "Security",  color: '#ffc107' },
    { id: "Authentication & HTTPS support",  color: '#ffc107' },
    { id: "A1.2",  color: '#cd853f' },
    { id: "Interlinking", name: "Interlinking", color: '#607d8b' },
    { id: "Degree of connection", color: '#607d8b' },
    { id: "I3",  color: '#2ca02c' },
    { id: "Interoperability",  color: '#2ca02c' },
    { id: "Verifiability",  color: '#bc8f8f' },
    { id: "Vocabularies used",  color: '#bc8f8f' },
    { id: "I2",  color: '#2ca02c' },
    { id: "Publisher details",  color: '#bc8f8f' },
    { id: "R1.2",  color: '#ff7f0e' },
    { id: "Reusability", color: '#ff7f0e' },
    { id: "Licensing",  color: '#1e90ff' },
    { id: "Machine or Human redeable license",  color: '#1e90ff' },
    { id: "R1.1",  color: '#ff7f0e' },
    { id: "F2", color: '#9467bd', column: 3 },
    { id: "F3", color: '#9467bd', column: 3 },
],
        data: [
            ["KGs Quality Framework", "Availability",2],
            ["Availability","URIs dereferenceability",1],
            ["URIs dereferenceability","F1",1],
            ["F1","Findability",1],
            ["Findability","FAIR principles",1],
            ["Availability","Working access point(s)",1],
            ["Working access point(s)","A1.1",1],
            ["A1.1","Accessibility",1],
            ["Accessibility","FAIR principles",2],
            ["KGs Quality Framework","Security",1],
            ["Security","Authentication & HTTPS support",1],
            ["Authentication & HTTPS support","A1.2",1],
            ["A1.2","Accessibility",1],
            ["KGs Quality Framework","Interlinking",1],
            ["Interlinking","Degree of connection",1],
            ["Degree of connection","I3",1],
            ["I3","Interoperability",1], 
            ["KGs Quality Framework", "Verifiability",2],
            ["Verifiability","Vocabularies used",1],
            ["Vocabularies used","I2",1],
            ["I2","Interoperability",1],
            ["Interoperability",'FAIR principles',2],
            ["Verifiability","Publisher details",1],
            ["Publisher details","R1.2",1],
            ["R1.2","Reusability",1],
            ["KGs Quality Framework", "Licensing",1],
            ["Licensing","Machine or Human redeable license",1],
            ["Machine or Human redeable license", "R1.1",1],
            ["R1.1","Reusability",1],
            ["Reusability","FAIR principles",2],
            ["F2", "Findability", 1],
            ["F3", "Findability", 1],
        ]
    }]
});
</script>